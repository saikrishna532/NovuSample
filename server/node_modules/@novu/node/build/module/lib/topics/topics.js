import { WithHttp } from '../novu.interface';
const BASE_PATH = '/topics';
export class Topics extends WithHttp {
    async create(data) {
        return await this.http.post(BASE_PATH, {
            key: data.key,
            name: data.name,
        });
    }
    async addSubscribers(topicKey, data) {
        return await this.http.post(`${BASE_PATH}/${topicKey}/subscribers`, data);
    }
    async getSubscriber(topicKey, externalSubscriberId) {
        return await this.http.get(`${BASE_PATH}/${topicKey}/subscribers/${externalSubscriberId}`);
    }
    async checkSubscriber(topicKey, externalSubscriberId) {
        return await this.http.get(`${BASE_PATH}/${topicKey}/subscribers/${externalSubscriberId}`);
    }
    async removeSubscribers(topicKey, data) {
        return await this.http.post(`${BASE_PATH}/${topicKey}/subscribers/removal`, data);
    }
    async list(data) {
        return await this.http.get(BASE_PATH, {
            params: {
                ...(data?.page?.toString() && { page: data.page }),
                ...(data?.pageSize && { pageSize: data.pageSize }),
                ...(data?.key && { key: data.key }),
            },
        });
    }
    async delete(topicKey) {
        return await this.http.delete(`${BASE_PATH}/${topicKey}`);
    }
    async get(topicKey) {
        return await this.http.get(`${BASE_PATH}/${topicKey}`);
    }
    async rename(topicKey, newName) {
        return await this.http.patch(`${BASE_PATH}/${topicKey}`, {
            name: newName,
        });
    }
}
