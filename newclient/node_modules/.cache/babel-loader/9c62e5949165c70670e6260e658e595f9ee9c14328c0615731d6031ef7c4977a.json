{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDNBgoG2JlD2g9vrDkzEt7FEjbTXSju_nQ\",\n  authDomain: \"test-novu-26b5c.firebaseapp.com\",\n  projectId: \"test-novu-26b5c\",\n  storageBucket: \"test-novu-26b5c.appspot.com\",\n  messagingSenderId: \"298283082736\",\n  appId: \"1:298283082736:web:2f2374c9978970e4603335\",\n  measurementId: \"G-QS9HTYYQHK\"\n};\ninitializeApp(firebaseConfig);\nconst messaging = getMessaging();\nexport const requestForToken = () => {\n  return getToken(messaging, {\n    vapidKey: `BETaNc8zYdeqahY05588Iu5kqMnCTtNBT237M3DoeP2IsVMsx4uH4-q9HqfMYL6ByFXuZwZxIq4txMP0BSWTUDU`\n  }).then(async currentToken => {\n    if (currentToken) {\n      console.log('current token for client: ', currentToken);\n      // await novu.subscribers.update('123', {\n      //     firstName: 'Saurabh', // new first name\n      //     lastName: 'Sumit', // new last name\n      //   });\n      // Perform any other neccessary action with the token\n    } else {\n      // Show permission request UI\n      console.log('No registration token available. Request permission to generate one.');\n    }\n  }).catch(err => {\n    console.log('An error occurred while retrieving token. ', err);\n  });\n};\n\n// Handle incoming messages. Called when:\n// - a message is received while the app has focus\n// - the user clicks on an app notification created by a service worker `messaging.onBackgroundMessage` handler.\nexport const onMessageListener = () => new Promise(resolve => {\n  onMessage(messaging, payload => {\n    resolve(payload);\n  });\n});","map":{"version":3,"names":["initializeApp","getMessaging","getToken","onMessage","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","requestForToken","vapidKey","then","currentToken","console","log","catch","err","onMessageListener","Promise","resolve","payload"],"sources":["/Users/saikrishna/chat-app/newclient/src/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\n\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDNBgoG2JlD2g9vrDkzEt7FEjbTXSju_nQ\",\n    authDomain: \"test-novu-26b5c.firebaseapp.com\",\n    projectId: \"test-novu-26b5c\",\n    storageBucket: \"test-novu-26b5c.appspot.com\",\n    messagingSenderId: \"298283082736\",\n    appId: \"1:298283082736:web:2f2374c9978970e4603335\",\n    measurementId: \"G-QS9HTYYQHK\",\n};\n\ninitializeApp(firebaseConfig);\n\nconst messaging = getMessaging();\n\nexport const requestForToken = () => {\n    return getToken(messaging, { vapidKey: `BETaNc8zYdeqahY05588Iu5kqMnCTtNBT237M3DoeP2IsVMsx4uH4-q9HqfMYL6ByFXuZwZxIq4txMP0BSWTUDU` })\n      .then(async (currentToken) => {\n        if (currentToken) {\n          console.log('current token for client: ', currentToken);\n          // await novu.subscribers.update('123', {\n          //     firstName: 'Saurabh', // new first name\n          //     lastName: 'Sumit', // new last name\n          //   });\n          // Perform any other neccessary action with the token\n        } else {\n          // Show permission request UI\n          console.log('No registration token available. Request permission to generate one.');\n        }\n      })\n      .catch((err) => {\n        console.log('An error occurred while retrieving token. ', err);\n      });\n  };\n  \n  // Handle incoming messages. Called when:\n  // - a message is received while the app has focus\n  // - the user clicks on an app notification created by a service worker `messaging.onBackgroundMessage` handler.\n  export const onMessageListener = () =>\n    new Promise((resolve) => {    \n      onMessage(messaging, (payload) => {\n        resolve(payload);\n      });\n    });"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,oBAAoB;AAGtE,IAAIC,cAAc,GAAG;EACjBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,iCAAiC;EAC7CC,SAAS,EAAE,iBAAiB;EAC5BC,aAAa,EAAE,6BAA6B;EAC5CC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACnB,CAAC;AAEDX,aAAa,CAACI,cAAc,CAAC;AAE7B,MAAMQ,SAAS,GAAGX,YAAY,CAAC,CAAC;AAEhC,OAAO,MAAMY,eAAe,GAAGA,CAAA,KAAM;EACjC,OAAOX,QAAQ,CAACU,SAAS,EAAE;IAAEE,QAAQ,EAAG;EAAyF,CAAC,CAAC,CAChIC,IAAI,CAAC,MAAOC,YAAY,IAAK;IAC5B,IAAIA,YAAY,EAAE;MAChBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,YAAY,CAAC;MACvD;MACA;MACA;MACA;MACA;IACF,CAAC,MAAM;MACL;MACAC,OAAO,CAACC,GAAG,CAAC,sEAAsE,CAAC;IACrF;EACF,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;IACdH,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEE,GAAG,CAAC;EAChE,CAAC,CAAC;AACN,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAC/B,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvBpB,SAAS,CAACS,SAAS,EAAGY,OAAO,IAAK;IAChCD,OAAO,CAACC,OAAO,CAAC;EAClB,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}